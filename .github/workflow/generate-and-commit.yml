name: Generate and Commit Danmatsu

on:
schedule:
\- cron: '0 6,10,14,18,22 \* \* \*'  # JSTã§1æ—¥5å›å®Ÿè¡Œï¼ˆGitHubã¯UTCãƒ™ãƒ¼ã‚¹ï¼‰
workflow\_dispatch:

jobs:
generate-and-commit:
runs-on: ubuntu-latest

```
steps:
- name: Checkout repository
  uses: actions/checkout@v3

- name: Set up Python
  uses: actions/setup-python@v4
  with:
    python-version: '3.10'

- name: Install OpenAI SDK
  run: pip install openai

- name: Run danmatsu generator
  env:
    OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
  run: |
    python generate_danmatsu.py

- name: Commit and push if changes
  run: |
    git config user.name "syntax-death"
    git config user.email "no-reply@syntax.death"
    git add .
    if git diff --cached --quiet; then
      echo "No changes to commit."
    else
      git commit -m "ğŸ¤– Auto-generated danmatsu log"
      git push
    fi
```
